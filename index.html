<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fullscreen Toggle & Touch Controls</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #fullscreenToggle {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            cursor: pointer;
        }
        /* D-Pad Styles */
        .dpad {
            position: absolute;
            bottom: 10px;
            left: 10px;
            display: grid;
            grid-template-columns: repeat(3, 50px);
            grid-template-rows: repeat(3, 50px);
        }
        .dpad button {
            width: 50px;
            height: 50px;
            margin: 5px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <button id="fullscreenToggle">Toggle Fullscreen</button>
    <div class="dpad">
        <button id="up">↑</button>
        <button id="left">←</button>
        <button id="down">↓</button>
        <button id="right">→</button>
    </div>
    <script>
        const fullscreenToggle = document.getElementById('fullscreenToggle');
        const dpad = document.querySelector('.dpad');

        // Fullscreen toggle function
        fullscreenToggle.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        });

        // Device detection
        const isTouchDevice = 'ontouchstart' in window;

        const handleSwipe = (event) => {
            // Handle touch movement
            const touch = event.changedTouches[0];
            console.log('Swiped', touch);
            // Add movement logic based on touch coordinates
        };

        if (isTouchDevice) {
            document.addEventListener('touchstart', handleSwipe);
        }

        // D-Pad controls
        dpad.addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const direction = event.target.id;
                console.log('D-Pad pressed:', direction);
                // Add movement logic here based on D-Pad direction
            }
        });

        // Optional: Enable swipe gestures for touch devices
        let startX, startY;
        const handleTouchStart = (event) => {
            startX = event.touches[0].clientX;
            startY = event.touches[0].clientY;
        };

        const handleTouchMove = (event) => {
            const dx = event.touches[0].clientX - startX;
            const dy = event.touches[0].clientY - startY;
            if (Math.abs(dx) > Math.abs(dy)) {
                // Horizontal swipe
                if (dx > 0) {
                    console.log('Swiped right');
                } else {
                    console.log('Swiped left');
                }
            } else {
                // Vertical swipe
                if (dy > 0) {
                    console.log('Swiped down');
                } else {
                    console.log('Swiped up');
                }
            }
        };

        if (isTouchDevice) {
            document.addEventListener('touchstart', handleTouchStart);
            document.addEventListener('touchmove', handleTouchMove);
        }
    </script>
</body>
</html>